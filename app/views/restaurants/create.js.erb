<% if @restaurant.errors.any? %>
  // Render new review form with errors
  $('#new_restaurant').html("<%= j render 'restaurants/form', restaurant: @restaurant %>");
<% else %>
  // Create a paragraph for the new review. But hide it.
  var new_restaurant = $("<%= j render 'restaurants/restaurant', restaurant: @restaurant %>").hide();
  // Add it to the DOM, at the end of the existing reviews. It's still hidden.
  $('.restaurants_list').append(new_restaurant);
  // Show the new review with an animation!
  new_restaurant.slideDown("slow");
  // Remove the text from the content textarea.
  $('#restaurant_name').val('');
  $('#restaurant_address').val('');
  $('.btn.btn-default').blur();
<% end %>